<link rel="import" href="../../bower_components/polymer/lib/utils/mixin.html">

<script>
    if (!window.Aydin) {
        window.Aydin = {};
    }

    Aydin.FormMixin = Polymer.dedupingMixin(base => class extends base {
        get __propertyKeys() {
            return Object.keys(this.constructor.properties);
        }

        _onSaveTapped() {
            let model = {};
            this.__propertyKeys.forEach(key => model[key] = this.get(key));
            this.dispatchEvent(new CustomEvent('push', { detail: { model } }));
        }

        openDialog() {
            let paperDialog = this.shadowRoot.querySelector('paper-dialog');
            if(paperDialog) {
                paperDialog.open();
            }
        }
    });
</script>
